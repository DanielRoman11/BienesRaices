extends layout/app

block styles
  link(rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css")

block contenido
  section(class="py-3")
    h1(class="text-center text-3xl sm:text-4xl font-extrabold")= pagina
    h4(class="font-bold text-sm uppercase text-gray-800") Filtrar propiedades:
    nav(class="grid grid-cols-1 md:grid-cols-2 gap-2" id="filterbox")
      div(class="w-full md:w-auto flex items-center gap-2")
        label(for="categorias" class="text-sm w-24 uppercase text-gray-500") Categor√≠as
        select#categorias(class="flex-1 w-full bg-white px-3 py-2 border border-gray-300 rounded-md shadow-md") 
          option(value="") - Selecciona -
          each categoria in categorias
            option(value=categoria.id)= categoria.nombre
      div(class="w-full md:w-auto flex items-center gap-2")
        label(for="categorias" class="text-sm w-24 uppercase text-gray-500") Precios
        select#precios(class="flex-1 w-full bg-white px-3 py-2 border border-gray-300 rounded-md shadow-md") 
          option(value="") - Selecciona -
          each precio in precios
            option(value=precio.id)= precio.nombre
    div(id="mapaHome" class="h-96 md:h-[600px] mt-5")
  
  section.py-5
    h2.text-center.text-4xl.font-extrabold.pt-10 Casas en venta
      //- each casa in casas
      //-   pre= JSON.stringify(casa, undefined, 3)
    div(class="grid sm:grid-cols-3 gap-5 mt-5 parent w-full")
      each casa in casas
        //- pre= JSON.stringify(casa, undefined, 3)

        article(class="relative flex w-56 md:w-full py-5 sm:py-0 flex-col rounded-xl bg-white bg-clip-border text-gray-700 shadow-md hover:z-20 transition-all mt-10 group items-start justify-between")
          header.relative.mx-4.-mt-6.bg-clip-border.overflow-hidden.mx-0.px-5
            div.overflow-hidden.rounded-xl.w-full
              img(src=`/uploads/${casa.imagen}` alt=`Imagen de ${casa.titulo}` class="group-hover:scale-125 transition-transform w-full h-60 max-h-full")
          div(class="p-6 line-clamp-2 whitespace-pre-wrap flex flex-col h-52")
            h5.mb-2.block.font-semibold.text-xl.whitespace-pre-wrap.leading-snug.tracking-normal.text-blue-gray-900.antialiased.text-balance(class="text-[#4c460e]")= casa.titulo
            p(class="font-semibold text-xs whitespace-pre-wrap text-pretty line-clamp-2 lg:line-clamp-2")= casa.descripcion
          .flex.flex-wrap.px-5.w-full.flex-col.justifify-between.py-10.pt-5
            p(class="font-semibold text-base mt-1")= "üß≠ Ubicaci√≥n: "+ casa.calle
            p(class="font-semibold text-base mt-1")= "üöΩ Ba√±os: "+ casa.wc
            p(class="font-semibold text-base mt-1")= "üõåüèª Habitaciones: "+ casa.habitaciones
            p(class="font-semibold text-base mt-1")= "üöó Estacionamiento: "+ casa.estacionamiento
            p(class="font-semibold text-base mt-1")= "üí∞ Precio: "+ casa.precio.nombre
          .p-6.pt-0.flex.flex-col.gap-y-5
            a.w-fit.select-none.rounded-lg.bg-pink-500.py-3.px-6.text-center.align-middle.font-sans.text-xs.font-bold.uppercase.text-white.shadow-md.transition-all(class='shadow-pink-500/20 hover:shadow-lg hover:shadow-pink-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none' href=`/propiedades/propiedad/${casa.id}`)
              | Leer m√°s
            p.text-xs.float-right= casa.updatedAt.toLocaleString('es-CO')



block scripts
  script(src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js")
  script(src="/js/Mapahome.js") 
